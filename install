#!/usr/bin/env bash

itype=${1?"Input installation type! Usage: $0 [root|user]"}
echo "Install for $1:"

hostname=$2
cdir=$(dirname $0)

for k in \
    screenrc \
    gitconfig
do
    ln -vsf $cdir/.$k ~/.$k
done


echo "Add .bashrc link"
echo -e "\n\n\n#Added by my-bash-config\n\n"
cat ~/$cdir/.bashrc >> ~/.bashrc
echo -e "\n\n" >> ~/.bashrc


echo "Set prompt string"
if [ ! -z "$hostname" ]
then
    echo -e "\tReplace host to user hostname: $hostname\n"

    echo `$cdir/prompt.bash $itype`| sed "s/\\\h/$hostname/" >> ~/.bashrc
    echo `$cdir/prompt.zsh $itype` | sed "s/\\\h/$hostname/" >> ~/.zshrc
else
    echo `$cdir/prompt.bash $itype` >> ~/.bashrc
    echo `$cdir/prompt.zsh $itype`  >> ~/.zshrc
fi

echo -e "\n\n" >> ~/.bashrc
echo -e "\n\n" >> ~/.zshrc



echo "Complete"


#EOF#
